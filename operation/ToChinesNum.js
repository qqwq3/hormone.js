"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var CheckEmpty_1=__importDefault(require("../type/CheckEmpty")),matching=function(t){for(var e=t.prefix,n=t.change,i=t.unit,r="",a=e.length,u=0;u<a;u++)r+=(0<u&&0===parseInt(e[u])&&0===parseInt(e[u-1])?"":n[e[u]])+(0===parseInt(e[u])?i[0]:i[a-u-1]);return r=r.charAt(r.length-1)===n[0]?r.substr(0,r.length-1):r},calculation=function(t){var e,n=t.n,i=t.prefix,r=t.change,a=t.unit,u="";return 5<n.length?(e=n.substr(0,n.length-4),t=n.substr(n.length-4),u=matching({prefix:e.split(""),change:r,unit:a}),n=matching({prefix:t.split(""),change:r,unit:a}),e.length<5?u=u+"万"+n:(t=e.substr(0,e.length-4),e=e.substr(e.length-4),t.length<=5?u=(u=matching({prefix:t.split(""),change:r,unit:a}))+"亿"+((e=matching({prefix:e.split(""),change:r,unit:a}))?e+"万":"")+n:(u="",console.error("error: 该函数目前支持最大数单位为（万亿）")))):u=matching({prefix:i,change:r,unit:a}),u},ToChinesNum=function(t){var e=t.num,n=t.capitalize,i=void 0!==n&&n,n=t.suf,n=void 0===n?"":n,t=t.digits,t=void 0===t?2:t;try{if(!e||CheckEmpty_1.default(e)||isNaN(e))return"零";var r,a,u,s,l=i?["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"]:["零","一","二","三","四","五","六","七","八","九"],c=i?["","拾","佰","仟","万"]:["","十","百","千","万"],o=["负","点"],h="",p=parseFloat(parseFloat(e).toFixed(t)).toString().split(""),g=p.includes("-"),f=g?p.slice(1):p;return h=f.includes(".")?(s=(u=f.join("").split("."))[0].split(""),r=u[1].split(""),h=calculation({n:u[0],prefix:s,change:l,unit:c}),a="",r.forEach(function(t){return a+=l[t]}),""+(h||l[0])+o[1]+a):(s=(u=f.join("")).split(""),calculation({n:u,prefix:s,change:l,unit:c})),h=""+(g?o[0]:"")+(h||l[0]),n?h+n:h}catch(t){return console.error("error: "+t.message)}};exports.default=ToChinesNum;